#!/usr/bin/env bash

# Step 1: Install Nginx
sudo apt update
sudo apt install nginx -y

# Step 2: Configure Nginx for redirection
sudo cat <<EOF > /etc/nginx/sites-available/redirect_me
server {
    listen 80;
    server_name _;

    location /redirect_me {
        return 301 https://www.example.com/new_page;
    }

    # Redirect all other requests to the main server
    location / {
        return 301 https://www.example.com;
    }
}
EOF

# Step 3: Enable the configuration
sudo ln -s /etc/nginx/sites-available/redirect_me /etc/nginx/sites-enabled/

# Step 4: Test the Nginx configuration
sudo nginx -t

# Step 5: Restart Nginx to apply changes
sudo systemctl restart nginx
